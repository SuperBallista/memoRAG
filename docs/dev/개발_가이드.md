# memoRAG ê°œë°œ ê°€ì´ë“œ

ê°œë°œìë¥¼ ìœ„í•œ ìƒì„¸ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
memoRAG/
â”œâ”€â”€ src/                    # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ core/              # í•µì‹¬ ì—”ì§„
â”‚   â”œâ”€â”€ services/          # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ cli/               # CLI ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ utils/             # ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ tests/                 # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ docs/                  # ë¬¸ì„œ
â”‚   â”œâ”€â”€ dev/              # ê°œë°œì ë¬¸ì„œ
â”‚   â””â”€â”€ user/             # ì‚¬ìš©ì ë¬¸ì„œ
â”œâ”€â”€ dist/                  # ë¹Œë“œ ê²°ê³¼
â””â”€â”€ build/                 # ë¹Œë“œ ì„ì‹œ íŒŒì¼
```

### ëª¨ë“ˆ ì„¤ëª…

#### src/core/

**parser.py** - ë¬¸ì„œ íŒŒì„œ
- `DocumentParser`: ë‹¤ì–‘í•œ ë¬¸ì„œ í˜•ì‹ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜
- ì§€ì› í˜•ì‹: PDF, DOCX, HWPX, PPTX, XLSX, TXT, MD
- ì²­í¬ ë¶„í•  ê¸°ëŠ¥

**embedder.py** - ì„ë² ë”© ì—”ì§„
- `EmbeddingEngine`: í…ìŠ¤íŠ¸ë¥¼ ë²¡í„°ë¡œ ë³€í™˜
- sentence-transformers ê¸°ë°˜
- ë°°ì¹˜ ì²˜ë¦¬ ì§€ì›

**vector_search.py** - ë²¡í„° ê²€ìƒ‰
- `VectorSearch`: ChromaDB ë˜í¼
- ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê²€ìƒ‰
- ì»¬ë ‰ì…˜ ê´€ë¦¬

#### src/services/

**indexing.py** - ì¸ë±ì‹± ì„œë¹„ìŠ¤
- `IndexingService`: í´ë” ìŠ¤ìº” ë° ì¸ë±ì‹±
- ì§„í–‰ë¥  í‘œì‹œ
- ì˜¤ë¥˜ ì²˜ë¦¬

**query.py** - ì¿¼ë¦¬ ì„œë¹„ìŠ¤
- `QueryService`: ìì—°ì–´ ê²€ìƒ‰ ì²˜ë¦¬
- ê²°ê³¼ í¬ë§·íŒ…
- ìŠ¤ë‹ˆí« ìƒì„±

**management.py** - ê´€ë¦¬ ì„œë¹„ìŠ¤
- `ManagementService`: ì¸ë±ìŠ¤ ê´€ë¦¬
- ëª©ë¡ ì¡°íšŒ
- ì‚­ì œ ê¸°ëŠ¥

#### src/cli/

**main.py** - CLI ì§„ì…ì 
- Click ê¸°ë°˜ ëª…ë ¹ì–´
- ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬
- Rich ì¶œë ¥

#### src/utils/

**config.py** - ì„¤ì • ê´€ë¦¬
- `Config`: YAML ì„¤ì • ë¡œë“œ/ì €ì¥
- ê¸°ë³¸ê°’ ê´€ë¦¬

**logger.py** - ë¡œê¹…
- Rich í•¸ë“¤ëŸ¬
- íŒŒì¼ ë¡œê¹…

---

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/your-username/memorag.git
cd memorag
```

### 2. ê°€ìƒí™˜ê²½ ìƒì„±

```bash
python -m venv venv

# Windows
.\venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# CPU ë²„ì „ (ê¶Œì¥)
install_cpu.bat

# ë˜ëŠ” ìˆ˜ë™
pip install -r requirements.txt
```

### 4. ê°œë°œ ë„êµ¬ ì„¤ì •

```bash
# ì½”ë“œ í¬ë§·í„°
pip install black

# ë¦°í„°
pip install flake8

# íƒ€ì… ì²´ì»¤ (ì„ íƒ)
pip install mypy
```

---

## ğŸ’» ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ê¸°ëŠ¥ ì¶”ê°€ ì˜ˆì‹œ: ìƒˆ íŒŒì¼ í˜•ì‹ ì§€ì›

#### 1. íŒŒì„œ í•¨ìˆ˜ ì¶”ê°€

```python
# src/core/parser.py

def _parse_new_format(self, file_path: Path) -> List[DocumentChunk]:
    """ìƒˆ íŒŒì¼ í˜•ì‹ íŒŒì‹±"""
    try:
        import new_library
    except ImportError:
        raise ImportError("new_library required")
    
    chunks = []
    # íŒŒì‹± ë¡œì§
    return chunks
```

#### 2. ì§€ì› í™•ì¥ì ì¶”ê°€

```python
SUPPORTED_EXTENSIONS = {
    ".pdf", ".docx", ".hwpx", 
    ".pptx", ".xlsx", ".txt", ".md",
    ".new"  # ì¶”ê°€
}
```

#### 3. ë¶„ê¸° ë¡œì§ ì¶”ê°€

```python
elif extension == ".new":
    return self._parse_new_format(file_path)
```

#### 4. í…ŒìŠ¤íŠ¸ ì‘ì„±

```python
# tests/test_parser.py

def test_new_format_parsing():
    parser = DocumentParser()
    chunks = parser.parse(Path("test.new"))
    assert len(chunks) > 0
```

#### 5. ë¬¸ì„œ ì—…ë°ì´íŠ¸

- README.md ì§€ì› í˜•ì‹ì— ì¶”ê°€
- ì‚¬ìš©ì ê°€ì´ë“œ ì—…ë°ì´íŠ¸

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ìœ ë‹› í…ŒìŠ¤íŠ¸

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
pytest tests/

# íŠ¹ì • íŒŒì¼
pytest tests/test_parser.py

# Verbose ëª¨ë“œ
pytest tests/ -v

# ì»¤ë²„ë¦¬ì§€
pytest tests/ --cov=src
```

### í†µí•© í…ŒìŠ¤íŠ¸

```bash
# ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
python test_simple.py
```

### ìˆ˜ë™ í…ŒìŠ¤íŠ¸

```bash
# CLI í…ŒìŠ¤íŠ¸
python run.py index --folder test_documents
python run.py query "í…ŒìŠ¤íŠ¸"
python run.py list
```

---

## ğŸ—ï¸ ë¹Œë“œ

### ê°œë°œìš© ë¹Œë“œ

```bash
# Pythonìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰
python run.py --help
```

### ë°°í¬ìš© ë¹Œë“œ

```bash
# exe íŒŒì¼ ìƒì„±
python build_exe.py

# ë˜ëŠ”
build.bat

# ê²°ê³¼: dist/memorag.exe
```

### ë¹Œë“œ í…ŒìŠ¤íŠ¸

```bash
# exe ì‹¤í–‰ í…ŒìŠ¤íŠ¸
dist\memorag.exe version
dist\memorag.exe index --folder test_documents
dist\memorag.exe query "í…ŒìŠ¤íŠ¸"
```

---

## ğŸ“ ë¬¸ì„œ ì‘ì„±

### ì½”ë“œ ë¬¸ì„œí™”

ëª¨ë“  public í•¨ìˆ˜/í´ë˜ìŠ¤ì— docstring:

```python
def parse(self, file_path: Path) -> List[DocumentChunk]:
    """
    íŒŒì¼ì„ íŒŒì‹±í•˜ì—¬ ì²­í¬ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
    
    Args:
        file_path: íŒŒì‹±í•  íŒŒì¼ ê²½ë¡œ
        
    Returns:
        DocumentChunk ë¦¬ìŠ¤íŠ¸
        
    Raises:
        ValueError: ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹
        FileNotFoundError: íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
    """
```

### ì‚¬ìš©ì ë¬¸ì„œ

ì‚¬ìš©ì ê´€ë ¨ ë³€ê²½ ì‹œ ë‹¤ìŒ ë¬¸ì„œ ì—…ë°ì´íŠ¸:

- `docs/user/ì‚¬ìš©ì_ê°€ì´ë“œ.txt`
- `docs/user/ëª…ë ¹ì–´_ì¹˜íŠ¸ì‹œíŠ¸.txt`
- `README.md`

---

## ğŸ› ë””ë²„ê¹…

### ë¡œê¹… í™œì„±í™”

```bash
# Verbose ëª¨ë“œë¡œ ì‹¤í–‰
python run.py --verbose index --folder test_documents

# ë¡œê·¸ íŒŒì¼ í™•ì¸
cat logs/memorag.log
```

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### ë¬¸ì œ: ì„ë² ë”© ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨
```python
# í•´ê²°: ëª¨ë¸ ìºì‹œ ì‚­ì œ
rm -rf ~/.cache/huggingface/hub/models--*
```

#### ë¬¸ì œ: ChromaDB ì˜¤ë¥˜
```python
# í•´ê²°: DB ì´ˆê¸°í™”
python run.py clean --yes
```

#### ë¬¸ì œ: íŒŒì‹± ì‹¤íŒ¨
```python
# í•´ê²°: ë¡œê·¸ í™•ì¸
logger.exception("Parsing failed")
```

---

## ğŸš€ ë¦´ë¦¬ìŠ¤

### ë¦´ë¦¬ìŠ¤ ì¤€ë¹„

1. **ë²„ì „ ì—…ë°ì´íŠ¸**
   ```python
   # src/__init__.py
   __version__ = "0.2.0"
   ```

2. **CHANGELOG ì‘ì„±**
   ```markdown
   ## [0.2.0] - 2025-XX-XX
   ### Added
   - ìƒˆ ê¸°ëŠ¥
   ```

3. **í…ŒìŠ¤íŠ¸**
   ```bash
   pytest tests/
   python test_simple.py
   ```

4. **ë¹Œë“œ**
   ```bash
   python build_exe.py
   ```

5. **Git íƒœê·¸**
   ```bash
   git tag -a v0.2.0 -m "Release v0.2.0"
   git push origin v0.2.0
   ```

6. **GitHub Release ìƒì„±**
   - exe íŒŒì¼ ì—…ë¡œë“œ
   - CHANGELOG ë³µì‚¬
   - ì‚¬ìš©ì ê°€ì´ë“œ ì²¨ë¶€

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ì‚¬ìš© ê¸°ìˆ 

- [sentence-transformers](https://www.sbert.net/)
- [ChromaDB](https://docs.trychroma.com/)
- [Click](https://click.palletsprojects.com/)
- [Rich](https://rich.readthedocs.io/)
- [PyInstaller](https://pyinstaller.org/)

### ê´€ë ¨ ë¬¸ì„œ

- [ì•„í‚¤í…ì²˜ ë¬¸ì„œ](ì•„í‚¤í…ì²˜.md)
- [í–¥í›„ í™•ì¥ ê³„íš](../í–¥í›„_í™•ì¥_ê³„íš.md)
- [ë°°í¬ ê°€ì´ë“œ](../ë°°í¬_ê°€ì´ë“œ.md)

---

## ğŸ¤ ì»¤ë®¤ë‹ˆí‹°

- **GitHub Discussions**: ì§ˆë¬¸, ì•„ì´ë””ì–´ ê³µìœ 
- **Issues**: ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ
- **Pull Requests**: ì½”ë“œ ê¸°ì—¬

---

**Happy Coding! ğŸ‰**

